var Ke=Object.defineProperty;var We=(n,e,t)=>e in n?Ke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var m=(n,e,t)=>(We(n,typeof e!="symbol"?e+"":e,t),t);import{i as Ze,f as Qe,h as ge,j as Ye,s as ve,e as re,k as Je,l as Q,m as Be,r as Xe,n as U}from"../chunks/scheduler.1d9bef59.js";import{p as pe,t as O,b as de,d as F,S as be,i as _e,g as y,h as k,j as x,f as b,k as w,a as M,r as ie,u as ce,v as le,w as ue,m as Ae,s as A,n as Pe,c as P,x as f,o as Ie,z,y as I,A as K,B as we,C as he,D as Ve}from"../chunks/index.8f643eda.js";import{g as ye,n as $e,a as Te,G as et,f as W,N as ne,b as oe,c as De,d as je,T as tt}from"../chunks/ThemeSwitcher.30c58196.js";function st(n,e){const t=e.token={};function s(r,a,o,l){if(e.token!==t)return;e.resolved=l;let c=e.ctx;o!==void 0&&(c=c.slice(),c[o]=l);const h=r&&(e.current=r)(c);let p=!1;e.block&&(e.blocks?e.blocks.forEach((i,d)=>{d!==a&&i&&(pe(),O(i,1,1,()=>{e.blocks[d]===i&&(e.blocks[d]=null)}),de())}):e.block.d(1),h.c(),F(h,1),h.m(e.mount(),e.anchor),p=!0),e.block=h,e.blocks&&(e.blocks[a]=h),p&&Ye()}if(Ze(n)){const r=Qe();if(n.then(a=>{ge(r),s(e.then,1,e.value,a),ge(null)},a=>{if(ge(r),s(e.catch,2,e.error,a),ge(null),!e.hasCatch)throw a}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,n),!0;e.resolved=n}}function rt(n,e,t){const s=e.slice(),{resolved:r}=n;n.current===n.then&&(s[n.value]=r),n.current===n.catch&&(s[n.error]=r),n.block.p(s,t)}class q{constructor(e){m(this,"api");this.api=e}async getRequest(e){return await this.api.makeRequest("GET",e)}async postRequest(e,t,s=void 0){return await this.api.makeRequest("POST",e,t,s)}async putRequest(e,t,s=void 0){return await this.api.makeRequest("PUT",e,t,s)}async deleteRequest(e,t){return await this.api.makeRequest("DELETE",e,t)}paramsFor(e){const t=new URLSearchParams;for(let s of Object.getOwnPropertyNames(e))(e[s]||!e[s]&&typeof e[s]=="boolean")&&t.append(s,e[s].toString());return[...t].length>0?`?${t.toString()}`:""}}class at extends q{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return await this.getRequest(`albums/${e}${a}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`albums${s}`)).albums}tracks(e,t,s,r){const a=this.paramsFor({market:t,limit:s,offset:r});return this.getRequest(`albums/${e}/tracks${a}`)}}class nt extends q{async get(e){if(typeof e=="string")return this.getRequest(`artists/${e}`);const t=this.paramsFor({ids:e});return(await this.getRequest(`artists${t}`)).artists}albums(e,t,s,r,a){const o=this.paramsFor({include_groups:t,market:s,limit:r,offset:a});return this.getRequest(`artists/${e}/albums${o}`)}topTracks(e,t){const s=this.paramsFor({market:t});return this.getRequest(`artists/${e}/top-tracks${s}`)}relatedArtists(e){return this.getRequest(`artists/${e}/related-artists`)}}class ot extends q{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`audiobooks/${e}${a}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`audiobooks${s}`)).audiobooks}getAudiobookChapters(e,t,s,r){const a=this.paramsFor({market:t,limit:s,offset:r});return this.getRequest(`audiobooks/${e}/chapters${a}`)}}class it extends q{getCategories(e,t,s,r){const a=this.paramsFor({country:e,locale:t,limit:s,offset:r});return this.getRequest(`browse/categories${a}`)}getCategory(e,t,s){const r=this.paramsFor({country:t,locale:s});return this.getRequest(`browse/categories/${e}${r}`)}getNewReleases(e,t,s){const r=this.paramsFor({country:e,limit:t,offset:s});return this.getRequest(`browse/new-releases${r}`)}getFeaturedPlaylists(e,t,s,r,a){const o=this.paramsFor({country:e,locale:t,timestamp:s,limit:r,offset:a});return this.getRequest(`browse/featured-playlists${o}`)}getPlaylistsForCategory(e,t,s,r){const a=this.paramsFor({country:t,limit:s,offset:r});return this.getRequest(`browse/categories/${e}/playlists${a}`)}}class ct extends q{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`chapters/${e}${a}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`chapters${s}`)).chapters}}class lt extends q{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`episodes/${e}${a}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`episodes${s}`)).episodes}}class ut extends q{get(e){const t=this.paramsFor(e);return this.getRequest(`recommendations${t}`)}genreSeeds(){return this.getRequest("recommendations/available-genre-seeds")}}class ht extends q{getAvailableMarkets(){return this.getRequest("markets")}}class pt extends q{getPlaybackState(e,t){const s=this.paramsFor({market:e,additionalTypes:t});return this.getRequest(`me/player${s}`)}getAvailableDevices(){return this.getRequest("me/player/devices")}getCurrentlyPlayingTrack(e,t){const s=this.paramsFor({market:e,additionalTypes:t});return this.getRequest(`me/player/currently-playing${s}`)}getRecentlyPlayedTracks(e,t){const s={limit:e};t&&(t.type==="before"?s.before=t.timestamp:t.type==="after"&&(s.after=t.timestamp));const r=this.paramsFor(s);return this.getRequest(`me/player/recently-played${r}`)}getUsersQueue(){return this.getRequest("me/player/queue")}async transferPlayback(e,t){if(e.length>1)throw new Error("Although an array is accepted, only a single device_id is currently supported. Supplying more than one will return 400 Bad Request");await this.putRequest("me/player",{device_ids:e,play:t})}async startResumePlayback(e,t,s,r,a){const o=this.paramsFor({device_id:e});await this.putRequest(`me/player/play${o}`,{context_uri:t,uris:s,offset:r,positionMs:a})}async pausePlayback(e){const t=this.paramsFor({device_id:e});await this.putRequest(`me/player/pause${t}`)}async skipToNext(e){const t=this.paramsFor({device_id:e});await this.postRequest(`me/player/next${t}`)}async skipToPrevious(e){const t=this.paramsFor({device_id:e});await this.postRequest(`me/player/previous${t}`)}async seekToPosition(e,t){const s=this.paramsFor({position_ms:e,device_id:t});await this.putRequest(`me/player/seek${s}`)}async setRepeatMode(e,t){const s=this.paramsFor({state:e,device_id:t});await this.putRequest(`me/player/repeat${s}`)}async setPlaybackVolume(e,t){const s=this.paramsFor({volume_percent:e,device_id:t});await this.putRequest(`me/player/volume${s}`)}async togglePlaybackShuffle(e,t){const s=this.paramsFor({state:e,device_id:t});await this.putRequest(`me/player/shuffle${s}`)}async addItemToPlaybackQueue(e,t){const s=this.paramsFor({uri:e,device_id:t});await this.postRequest(`me/player/queue${s}`)}}class dt extends q{getPlaylist(e,t,s,r){const a=this.paramsFor({market:t,fields:s,additional_types:r});return this.getRequest(`playlists/${e}${a}`)}getPlaylistItems(e,t,s,r,a,o){const l=this.paramsFor({market:t,fields:s,limit:r,offset:a,additional_types:o});return this.getRequest(`playlists/${e}/tracks${l}`)}async changePlaylistDetails(e,t){await this.putRequest(`playlists/${e}`,t)}movePlaylistItems(e,t,s,r){return this.updatePlaylistItems(e,{range_start:t,range_length:s,insert_before:r})}updatePlaylistItems(e,t){return this.putRequest(`playlists/${e}/tracks`,t)}async addItemsToPlaylist(e,t,s){await this.postRequest(`playlists/${e}/tracks`,{position:s,uris:t})}async removeItemsFromPlaylist(e,t){await this.deleteRequest(`playlists/${e}/tracks`,t)}getUsersPlaylists(e,t,s){const r=this.paramsFor({limit:t,offset:s});return this.getRequest(`users/${e}/playlists${r}`)}createPlaylist(e,t){return this.postRequest(`users/${e}/playlists`,t)}getPlaylistCoverImage(e){return this.getRequest(`playlists/${e}/images`)}async addCustomPlaylistCoverImage(e,t){let s="";if(t instanceof Buffer)s=t.toString("base64");else if(t instanceof HTMLCanvasElement)s=t.toDataURL("image/jpeg").split(";base64,")[1];else if(t instanceof HTMLImageElement){const r=document.createElement("canvas");r.width=t.width,r.height=t.height;const a=r.getContext("2d");if(!a)throw new Error("Could not get canvas context");a.drawImage(t,0,0),s=r.toDataURL("image/jpeg").split(";base64,")[1]}else if(typeof t=="string")s=t;else throw new Error("ImageData must be a Buffer, HTMLImageElement, HTMLCanvasElement, or string containing a base64 encoded jpeg");await this.addCustomPlaylistCoverImageFromBase64String(e,s)}async addCustomPlaylistCoverImageFromBase64String(e,t){await this.putRequest(`playlists/${e}/images`,t,"image/jpeg")}}class ft extends q{async execute(e,t,s,r,a,o){const l=this.paramsFor({q:e,type:t,market:s,limit:r,offset:a,include_external:o});return await this.getRequest(`search${l}`)}}class mt extends q{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`shows/${e}${a}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`shows${s}`)).shows}episodes(e,t,s,r){const a=this.paramsFor({market:t,limit:s,offset:r});return this.getRequest(`shows/${e}/episodes${a}`)}}class gt extends q{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`tracks/${e}${a}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`tracks${s}`)).tracks}async audioFeatures(e){if(typeof e=="string")return this.getRequest(`audio-features/${e}`);const t=this.paramsFor({ids:e});return(await this.getRequest(`audio-features${t}`)).audio_features}audioAnalysis(e){return this.getRequest(`audio-analysis/${e}`)}}const Ue={access_token:"",token_type:"",expires_in:0,refresh_token:"",expires:0};class wt extends q{profile(e){return this.getRequest(`users/${e}`)}}class yt extends q{constructor(t){super(t);m(this,"albums");m(this,"audiobooks");m(this,"episodes");m(this,"playlists");m(this,"shows");m(this,"tracks");this.albums=new kt(t),this.audiobooks=new vt(t),this.episodes=new bt(t),this.playlists=new _t(t),this.shows=new Ct(t),this.tracks=new Rt(t)}profile(){return this.getRequest("me")}topItems(t,s,r,a){const o=this.paramsFor({time_range:s,limit:r,offset:a});return this.getRequest(`me/top/${t}${o}`)}followedArtists(t,s){const r=this.paramsFor({type:"artist",after:t,limit:s});return this.getRequest(`me/following${r}`)}async followArtistsOrUsers(t,s){const r=this.paramsFor({type:s});await this.putRequest(`me/following${r}`,{ids:t})}async unfollowArtistsOrUsers(t,s){const r=this.paramsFor({type:s});await this.deleteRequest(`me/following${r}`,{ids:t})}followsArtistsOrUsers(t,s){const r=this.paramsFor({ids:t,type:s});return this.getRequest(`me/following/contains${r}`)}}class kt extends q{savedAlbums(e,t,s){const r=this.paramsFor({limit:e,offset:t,market:s});return this.getRequest(`me/albums${r}`)}async saveAlbums(e){await this.putRequest("me/albums",e)}async removeSavedAlbums(e){await this.deleteRequest("me/albums",e)}hasSavedAlbums(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/albums/contains${t}`)}}class vt extends q{savedAudiobooks(e,t){const s=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/audiobooks${s}`)}async saveAudiobooks(e){await this.putRequest("me/audiobooks",e)}async removeSavedAudiobooks(e){await this.deleteRequest("me/audiobooks",e)}hasSavedAudiobooks(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/audiobooks/contains${t}`)}}class bt extends q{savedEpisodes(e,t,s){const r=this.paramsFor({market:e,limit:t,offset:s});return this.getRequest(`me/episodes${r}`)}async saveEpisodes(e){await this.putRequest("me/episodes",e)}async removeSavedEpisodes(e){await this.deleteRequest("me/episodes",e)}hasSavedEpisodes(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/episodes/contains${t}`)}}class _t extends q{playlists(e,t){const s=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/playlists${s}`)}async follow(e){await this.putRequest(`playlists/${e}/followers`)}async unfollow(e){await this.deleteRequest(`playlists/${e}/followers`)}isFollowing(e,t){const s=this.paramsFor({ids:t});return this.getRequest(`playlists/${e}/followers/contains${s}`)}}class Ct extends q{savedShows(e,t){const s=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/shows${s}`)}saveShows(e){const t=this.paramsFor({ids:e});return this.putRequest(`me/shows${t}`)}removeSavedShows(e,t){const s=this.paramsFor({ids:e,market:t});return this.deleteRequest(`me/shows${s}`)}hasSavedShow(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/shows/contains${t}`)}}class Rt extends q{savedTracks(e,t,s){const r=this.paramsFor({limit:e,offset:t,market:s});return this.getRequest(`me/tracks${r}`)}async saveTracks(e){await this.putRequest("me/tracks",e)}async removeSavedTracks(e){await this.deleteRequest("me/tracks",e)}hasSavedTracks(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/tracks/contains${t}`)}}class xt{static get current(){return this.hasSubtleCrypto?window.crypto:this.tryLoadNodeWebCrypto()}static get hasSubtleCrypto(){return typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u"}static tryLoadNodeWebCrypto(){try{const{webcrypto:e}=require("crypto");return e}catch(e){throw e}}}class V{static async refreshCachedAccessToken(e,t){const s=await V.refreshToken(e,t.refresh_token);return V.toCachable(s)}static toCachable(e){return{...e,expires:Date.now()+e.expires_in*1e3}}static async refreshToken(e,t){const s=new URLSearchParams;s.append("client_id",e),s.append("grant_type","refresh_token"),s.append("refresh_token",t);const r=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}),a=await r.text();if(!r.ok)throw new Error(`Failed to refresh token: ${r.statusText}, ${a}`);return JSON.parse(a)}static generateCodeVerifier(e){let t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}static async generateCodeChallenge(e){const t=new TextEncoder().encode(e),s=await xt.current.subtle.digest("SHA-256",t),r=[...new Uint8Array(s)];return(typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(String.fromCharCode.apply(null,r))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}static get crypto(){return this.hasSubtleCrypto?window.crypto:this.tryLoadNodeWebCrypto()}static get hasSubtleCrypto(){return typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u"}static tryLoadNodeWebCrypto(){try{const{webcrypto:e}=require("crypto");return e}catch(e){throw e}}}const X=class X{constructor(e,t,s=[]){m(this,"clientId");m(this,"clientSecret");m(this,"scopes");m(this,"configuration",null);this.clientId=e,this.clientSecret=t,this.scopes=s}get cache(){return this.configuration.cachingStrategy}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(X.cacheKey,async()=>{const t=await this.getTokenFromApi();return V.toCachable(t)})}async getAccessToken(){return await this.cache.get(X.cacheKey)}removeAccessToken(){this.cache.remove(X.cacheKey)}async getTokenFromApi(){const e={grant_type:"client_credentials",scope:this.scopes.join(" ")},t=Object.keys(e).map(c=>c+"="+e[c]).join("&"),s=typeof Buffer<"u",r=`${this.clientId}:${this.clientSecret}`,a=s?Buffer.from(r).toString("base64"):btoa(r),o=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${a}`},body:t});if(o.status!==200)throw new Error("Failed to get access token.");return await o.json()}};m(X,"cacheKey","spotify-sdk:ClientCredentialsStrategy:token");let Se=X;const ee=class ee{constructor(e,t,s){m(this,"clientId");m(this,"redirectUri");m(this,"scopes");m(this,"configuration",null);this.clientId=e,this.redirectUri=t,this.scopes=s}get cache(){return this.configuration.cachingStrategy}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(ee.cacheKey,async()=>{const t=await this.redirectOrVerifyToken();return V.toCachable(t)},async t=>V.refreshCachedAccessToken(this.clientId,t))}async getAccessToken(){return await this.cache.get(ee.cacheKey)}removeAccessToken(){this.cache.remove(ee.cacheKey)}async redirectOrVerifyToken(){const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token");if(t)return Promise.resolve({access_token:t,token_type:e.get("token_type")??"",expires_in:parseInt(e.get("expires_in")??"0"),refresh_token:e.get("refresh_token")??"",expires:Number(e.get("expires"))||0});var r=(this.scopes??[]).join(" ");const a=new URLSearchParams;a.append("client_id",this.clientId),a.append("response_type","token"),a.append("redirect_uri",this.redirectUri),a.append("scope",r);const o="https://accounts.spotify.com/authorize?"+a.toString();return this.configuration.redirectionStrategy.redirect(o),Ue}};m(ee,"cacheKey","spotify-sdk:ImplicitGrantStrategy:token");let qe=ee;const te=class te{constructor(e,t,s){m(this,"clientId");m(this,"redirectUri");m(this,"scopes");m(this,"configuration",null);this.clientId=e,this.redirectUri=t,this.scopes=s}get cache(){return this.configuration.cachingStrategy}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(te.cacheKey,async()=>{const t=await this.redirectOrVerifyToken();return V.toCachable(t)},async t=>V.refreshCachedAccessToken(this.clientId,t))}async getAccessToken(){return await this.cache.get(te.cacheKey)}removeAccessToken(){this.cache.remove(te.cacheKey)}async redirectOrVerifyToken(){const t=new URLSearchParams(window.location.search).get("code");if(!t){const a=V.generateCodeVerifier(128),o=await V.generateCodeChallenge(a),l={verifier:a,expiresOnAccess:!0};this.cache.setCacheItem("spotify-sdk:verifier",l);const c=await this.generateRedirectUrlForUser(this.scopes,o);return await this.configuration.redirectionStrategy.redirect(c),Ue}this.removeCodeFromUrl();const s=await this.cache.get("spotify-sdk:verifier"),r=s==null?void 0:s.verifier;if(!r)throw new Error("No verifier found in cache - can't validate query string callback parameters.");return await this.configuration.redirectionStrategy.onReturnFromRedirect(),await this.exchangeCodeForToken(t,r)}removeCodeFromUrl(){const e=new URL(window.location.href);e.searchParams.delete("code");const t=e.search?e.href:e.href.replace("?","");window.history.replaceState({},document.title,t)}async generateRedirectUrlForUser(e,t){const s=e.join(" "),r=new URLSearchParams;return r.append("client_id",this.clientId),r.append("response_type","code"),r.append("redirect_uri",this.redirectUri),r.append("scope",s),r.append("code_challenge_method","S256"),r.append("code_challenge",t),`https://accounts.spotify.com/authorize?${r.toString()}`}async exchangeCodeForToken(e,t){const s=new URLSearchParams;s.append("client_id",this.clientId),s.append("grant_type","authorization_code"),s.append("code",e),s.append("redirect_uri",this.redirectUri),s.append("code_verifier",t);const r=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}),a=await r.text();if(!r.ok)throw new Error(`Failed to exchange code for token: ${r.statusText}, ${a}`);return JSON.parse(a)}};m(te,"cacheKey","spotify-sdk:AuthorizationCodeWithPKCEStrategy:token");let ke=te;class $t{async deserialize(e){const t=await e.text();return t.length>0?JSON.parse(t):null}}class Tt{async validateResponse(e){switch(e.status){case 401:throw new Error("Bad or expired token. This can happen if the user revoked a token or the access token has expired. You should re-authenticate the user.");case 403:const t=await e.text();throw new Error(`Bad OAuth request (wrong consumer key, bad nonce, expired timestamp...). Unfortunately, re-authenticating the user won't help here. Body: ${t}`);case 429:throw new Error("The app has exceeded its rate limits.");default:if(!e.status.toString().startsWith("20")){const s=await e.text();throw new Error(`Unrecognised response code: ${e.status} - ${e.statusText}. Body: ${s}`)}}}}class St{async handleErrors(e){return!1}}class qt{async redirect(e){document.location=e.toString()}async onReturnFromRedirect(){}}class Ge{constructor(e,t=new Map,s=0,r=2*60*1e3){m(this,"storage");m(this,"updateFunctions");m(this,"autoRenewInterval");m(this,"autoRenewWindow");this.storage=e,this.updateFunctions=t,this.autoRenewInterval=s,this.autoRenewWindow=r,this.autoRenewInterval>0&&setInterval(()=>this.autoRenewRenewableItems(),this.autoRenewInterval)}async getOrCreate(e,t,s){s&&this.updateFunctions.set(e,s);const r=await this.get(e);if(r)return r;const a=await t();if(!a)throw new Error("Could not create cache item");return this.setCacheItem(e,a),a}async get(e){let t=this.storage.get(e),s=t?JSON.parse(t):null;if(this.itemDueToExpire(s)&&this.updateFunctions.has(e)){const r=this.updateFunctions.get(e);await this.tryUpdateItem(e,s,r),t=this.storage.get(e),s=t?JSON.parse(t):null}return s?s.expires&&(s.expires===-1||s.expires<=Date.now())?(this.remove(e),null):(s.expiresOnAccess&&s.expiresOnAccess===!0&&this.remove(e),s):null}set(e,t,s){const r=Date.now()+s,a={...t,expires:r};this.setCacheItem(e,a)}setCacheItem(e,t){const s=JSON.stringify(t);this.storage.set(e,s)}remove(e){this.storage.remove(e)}itemDueToExpire(e){return!e||!e.expires?!1:e.expires-Date.now()<this.autoRenewWindow}async autoRenewRenewableItems(){this.updateFunctions.forEach(async(e,t)=>{const s=await this.get(t);s&&e&&this.itemDueToExpire(s)&&await this.tryUpdateItem(t,s,e)})}async tryUpdateItem(e,t,s){try{const r=await s(t);r&&this.setCacheItem(e,r)}catch(r){console.error(r)}}}class Et extends Ge{constructor(){super(new Ft)}}class Ft{get(e){return localStorage.getItem(e)}set(e,t){localStorage.setItem(e,t)}remove(e){localStorage.removeItem(e)}}class At extends Ge{constructor(){super(new Pt)}}class Pt{constructor(){m(this,"cache",new Map)}get(e){return this.cache.get(e)??null}set(e,t){this.cache.set(e,t)}remove(e){this.cache.delete(e)}}const se=class se{constructor(e,t){m(this,"clientId");m(this,"accessToken");m(this,"configuration",null);this.clientId=e,this.accessToken=t}get cache(){return this.configuration.cachingStrategy}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return this.accessToken=await this.cache.getOrCreate(se.cacheKey,async()=>{const e=V.toCachable(this.accessToken);return Promise.resolve(e)},async e=>V.refreshCachedAccessToken(this.clientId,e)),this.accessToken}async getAccessToken(){return await this.cache.get(se.cacheKey)}removeAccessToken(){this.cache.remove(se.cacheKey)}};m(se,"cacheKey","spotify-sdk:ProvidedAccessTokenStrategy:token");let Ee=se;const J=class J{constructor(e,t){m(this,"sdkConfig");m(this,"authenticationStrategy");m(this,"albums");m(this,"artists");m(this,"audiobooks");m(this,"browse");m(this,"chapters");m(this,"episodes");m(this,"recommendations");m(this,"markets");m(this,"player");m(this,"playlists");m(this,"shows");m(this,"tracks");m(this,"users");m(this,"search");m(this,"currentUser");this.sdkConfig=this.initilizeSdk(t),this.albums=new at(this),this.artists=new nt(this),this.audiobooks=new ot(this),this.browse=new it(this),this.chapters=new ct(this),this.episodes=new lt(this),this.recommendations=new ut(this),this.markets=new ht(this),this.player=new pt(this),this.playlists=new dt(this),this.shows=new mt(this),this.tracks=new gt(this),this.users=new wt(this),this.currentUser=new yt(this);const s=new ft(this);this.search=s.execute.bind(s),this.authenticationStrategy=e,this.authenticationStrategy.setConfiguration(this.sdkConfig)}async makeRequest(e,t,s=void 0,r=void 0){try{const a=await this.authenticationStrategy.getOrCreateAccessToken(),o=a==null?void 0:a.access_token,l=J.rootUrl+t,c={method:e,headers:{Authorization:`Bearer ${o}`,"Content-Type":r??"application/json"},body:s?typeof s=="string"?s:JSON.stringify(s):void 0};this.sdkConfig.beforeRequest(l,c);const h=await this.sdkConfig.fetch(l,c);return this.sdkConfig.afterRequest(l,c,h),h.status===204?null:(await this.sdkConfig.responseValidator.validateResponse(h),this.sdkConfig.deserializer.deserialize(h))}catch(a){if(!await this.sdkConfig.errorHandler.handleErrors(a))throw a;return null}}initilizeSdk(e){const t=typeof window<"u";return{...{fetch:(r,a)=>fetch(r,a),beforeRequest:(r,a)=>{},afterRequest:(r,a,o)=>{},deserializer:new $t,responseValidator:new Tt,errorHandler:new St,redirectionStrategy:new qt,cachingStrategy:t?new Et:new At},...e}}switchAuthenticationStrategy(e){this.authenticationStrategy=e,this.authenticationStrategy.setConfiguration(this.sdkConfig),this.authenticationStrategy.getOrCreateAccessToken()}async authenticate(){return this.authenticationStrategy.getOrCreateAccessToken()}async getAccessToken(){return this.authenticationStrategy.getAccessToken()}logOut(){this.authenticationStrategy.removeAccessToken()}static withUserAuthorization(e,t,s=[],r){const a=new ke(e,t,s);return new J(a,r)}static withClientCredentials(e,t,s=[],r){const a=new Se(e,t,s);return new J(a,r)}static withImplicitGrant(e,t,s=[],r){const a=new qe(e,t,s);return new J(a,r)}static withAccessToken(e,t,s){const r=new Ee(e,t);return new J(r,s)}static async performUserAuthorization(e,t,s,r,a){const o=new ke(e,t,s),c=await new J(o,a).authenticationStrategy.getOrCreateAccessToken();if(JSON.stringify({...c,expires:0})!==JSON.stringify(Ue)){if(typeof r=="string"){await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});return}await r(c)}}};m(J,"rootUrl","https://api.spotify.com/v1/");let Fe=J;function It(n){let e,t,s;return t=new et({props:{data:n[0],nodeStyle:n[2]}}),{c(){e=y("div"),ie(t.$$.fragment),this.h()},l(r){e=k(r,"DIV",{class:!0});var a=x(e);ce(t.$$.fragment,a),a.forEach(b),this.h()},h(){w(e,"class","w-full h-full z-0")},m(r,a){M(r,e,a),le(t,e,null),s=!0},p(r,a){const o={};a&1&&(o.data=r[0]),a&4&&(o.nodeStyle=r[2]),t.$set(o)},i(r){s||(F(t.$$.fragment,r),s=!0)},o(r){O(t.$$.fragment,r),s=!1},d(r){r&&b(e),ue(t)}}}function Ut(n){let e,t,s,r=n[1].text+"",a,o,l,c,h,p;return{c(){e=y("div"),t=y("div"),s=y("p"),a=Ae(r),o=A(),l=y("progress"),this.h()},l(i){e=k(i,"DIV",{class:!0});var d=x(e);t=k(d,"DIV",{class:!0});var u=x(t);s=k(u,"P",{class:!0});var g=x(s);a=Pe(g,r),g.forEach(b),o=P(u),l=k(u,"PROGRESS",{class:!0,max:!0}),x(l).forEach(b),u.forEach(b),d.forEach(b),this.h()},h(){w(s,"class","text-lg font-bold"),w(l,"class","progress w-56"),l.value=c=n[1].percentage,w(l,"max","100"),w(t,"class","text-center space-y-3"),w(e,"class","absolute top-0 left-0 z-10 w-screen h-screen flex justify-center items-center bg-base-100")},m(i,d){M(i,e,d),f(e,t),f(t,s),f(s,a),f(t,o),f(t,l),p=!0},p(i,d){(!p||d&2)&&r!==(r=i[1].text+"")&&Ie(a,r),(!p||d&2&&c!==(c=i[1].percentage))&&(l.value=c)},i(i){p||(i&&Q(()=>{p&&(h||(h=z(e,W,{delay:100,duration:500},!0)),h.run(1))}),p=!0)},o(i){i&&(h||(h=z(e,W,{delay:100,duration:500},!1)),h.run(0)),p=!1},d(i){i&&b(e),i&&h&&h.end()}}}function Ot(n){let e,t,s,r;const a=[Ut,It],o=[];function l(c,h){return c[1]?0:1}return t=l(n),s=o[t]=a[t](n),{c(){e=y("div"),s.c(),this.h()},l(c){e=k(c,"DIV",{class:!0});var h=x(e);s.l(h),h.forEach(b),this.h()},h(){w(e,"class","relative")},m(c,h){M(c,e,h),o[t].m(e,null),r=!0},p(c,[h]){let p=t;t=l(c),t===p?o[t].p(c,h):(pe(),O(o[p],1,1,()=>{o[p]=null}),de(),s=o[t],s?s.p(c,h):(s=o[t]=a[t](c),s.c()),F(s,1),s.m(e,null))},i(c){r||(F(s),r=!0)},o(c){O(s),r=!1},d(c){c&&b(e),o[t].d()}}}function Lt(n,e,t){let s,r;re(n,ye,d=>t(4,s=d)),re(n,$e,d=>t(2,r=d));let{sdk:a}=e,{data:o}=e,{loading:l}=e;const c=async d=>{const u=d.map(R=>R.id),g=80/u.length;let v=[];for(const R of d){const T=await a.artists.relatedArtists(R.id);l&&t(1,l.percentage+=g,l);for(const S of T.artists)u.includes(S.id)&&!v.includes({source:S.id,target:R.id})&&!v.includes({source:R.id,target:S.id})&&v.push({source:R.id,target:S.id})}return v},h=async d=>{var g,v;const u=(await a.currentUser.followedArtists(d,50)).artists;return(g=u==null?void 0:u.cursors)!=null&&g.after?u.items.concat(await h((v=u==null?void 0:u.cursors)==null?void 0:v.after)):u.items},p=async(d="short")=>{switch(d){case"short_term":case"medium_term":case"long_term":return(await a.currentUser.topItems("artists",d,50)).items;case"following":return await h();case"all":return(await p("short_term")).concat(await p("medium_term")).concat(await p("long_term")).concat(await p("following"));default:return p("medium_term")}},i=async d=>{try{t(1,l={text:"Downloading Artists",percentage:10});const u=await p(d);t(1,l={text:"Building Links",percentage:20});const g=await c(u);t(1,l=null),t(0,o={nodes:u,links:g})}catch(u){Je(ye,s=u,s)}};return Te.subscribe(i),n.$$set=d=>{"sdk"in d&&t(3,a=d.sdk),"data"in d&&t(0,o=d.data),"loading"in d&&t(1,l=d.loading)},[o,l,r,a]}class Nt extends be{constructor(e){super(),_e(this,e,Lt,Ot,ve,{sdk:3,data:0,loading:1})}}function Bt(n){let e,t=n[0].display_name+"",s;return{c(){e=y("span"),s=Ae(t)},l(r){e=k(r,"SPAN",{});var a=x(e);s=Pe(a,t),a.forEach(b)},m(r,a){M(r,e,a),f(e,s)},p(r,a){a&1&&t!==(t=r[0].display_name+"")&&Ie(s,t)},d(r){r&&b(e)}}}function Vt(n){let e,t;return{c(){e=y("img"),this.h()},l(s){e=k(s,"IMG",{src:!0,alt:!0}),this.h()},h(){var s;Be(e.src,t=(s=n[0].images)==null?void 0:s.slice(-1)[0].url)||w(e,"src",t),w(e,"alt","profile")},m(s,r){M(s,e,r)},p(s,r){var a;r&1&&!Be(e.src,t=(a=s[0].images)==null?void 0:a.slice(-1)[0].url)&&w(e,"src",t)},d(s){s&&b(e)}}}function Dt(n){let e,t,s,r,a,o,l;function c(i,d){var u,g;return((g=(u=i[0])==null?void 0:u.images)==null?void 0:g.length)>0?Vt:Bt}let h=c(n),p=h(n);return{c(){e=y("div"),t=y("div"),s=y("a"),p.c(),this.h()},l(i){e=k(i,"DIV",{class:!0,"data-tip":!0});var d=x(e);t=k(d,"DIV",{class:!0});var u=x(t);s=k(u,"A",{class:!0,href:!0,target:!0,rel:!0});var g=x(s);p.l(g),g.forEach(b),u.forEach(b),d.forEach(b),this.h()},h(){w(s,"class","w-12 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2 overflow-hidden"),w(s,"href",r=n[0].external_urls.spotify),w(s,"target","_blank"),w(s,"rel","noreferrer noopener"),w(t,"class","avatar"),w(e,"class","tooltip tooltip-bottom select-none"),w(e,"data-tip",a=n[0].display_name)},m(i,d){M(i,e,d),f(e,t),f(t,s),p.m(s,null),l=!0},p(i,[d]){h===(h=c(i))&&p?p.p(i,d):(p.d(1),p=h(i),p&&(p.c(),p.m(s,null))),(!l||d&1&&r!==(r=i[0].external_urls.spotify))&&w(s,"href",r),(!l||d&1&&a!==(a=i[0].display_name))&&w(e,"data-tip",a)},i(i){l||(i&&Q(()=>{l&&(o||(o=z(e,W,{duration:400},!0)),o.run(1))}),l=!0)},o(i){i&&(o||(o=z(e,W,{duration:400},!1)),o.run(0)),l=!1},d(i){i&&b(e),p.d(),i&&o&&o.end()}}}function jt(n,e,t){let{profile:s}=e;return n.$$set=r=>{"profile"in r&&t(0,s=r.profile)},[s]}class Mt extends be{constructor(e){super(),_e(this,e,jt,Dt,ve,{profile:0})}}function Me(n){let e,t,s,r,a="Color by Popularity",o,l,c,h,p,i,d,u=n[3]&&ze();return{c(){e=y("div"),t=y("div"),s=y("label"),r=y("span"),r.textContent=a,o=A(),l=y("input"),c=A(),u&&u.c(),this.h()},l(g){e=k(g,"DIV",{class:!0});var v=x(e);t=k(v,"DIV",{class:!0});var R=x(t);s=k(R,"LABEL",{class:!0});var T=x(s);r=k(T,"SPAN",{class:!0,"data-svelte-h":!0}),I(r)!=="svelte-1w1k44k"&&(r.textContent=a),o=P(T),l=k(T,"INPUT",{type:!0,class:!0}),T.forEach(b),R.forEach(b),c=P(v),u&&u.l(v),v.forEach(b),this.h()},h(){w(r,"class","label-text"),w(l,"type","checkbox"),w(l,"class","checkbox"),w(s,"class","label cursor-pointer"),w(t,"class","form-control"),w(e,"class","flex flex-col")},m(g,v){M(g,e,v),f(e,t),f(t,s),f(s,r),f(s,o),f(s,l),l.checked=n[3],f(e,c),u&&u.m(e,null),p=!0,i||(d=he(l,"change",n[6]),i=!0)},p(g,v){v&8&&(l.checked=g[3]),g[3]?u?v&8&&F(u,1):(u=ze(),u.c(),F(u,1),u.m(e,null)):u&&(pe(),O(u,1,1,()=>{u=null}),de())},i(g){p||(F(u),g&&Q(()=>{p&&(h||(h=z(e,W,{},!0)),h.run(1))}),p=!0)},o(g){O(u),g&&(h||(h=z(e,W,{},!1)),h.run(0)),p=!1},d(g){g&&b(e),u&&u.d(),g&&h&&h.end(),i=!1,d()}}}function ze(n){let e,t='<p class="text-left">Less Popular</p> <p class="text-right">More Popular</p>',s,r;return{c(){e=y("div"),e.innerHTML=t,this.h()},l(a){e=k(a,"DIV",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-17ane3m"&&(e.innerHTML=t),this.h()},h(){w(e,"class","inline-grid mx-1 flex-grow grid-cols-2 px-3 py-1 text-xs md:text-base text-white rounded-md shadow-md bg-gradient-to-r from-[#15803d] via-[#7e22ce] to-[#be185d]")},m(a,o){M(a,e,o),r=!0},i(a){r||(a&&Q(()=>{r&&(s||(s=z(e,je,{y:-4},!0)),s.run(1))}),r=!0)},o(a){a&&(s||(s=z(e,je,{y:-4},!1)),s.run(0)),r=!1},d(a){a&&b(e),a&&s&&s.end()}}}function zt(n){let e,t,s,r,a,o="Preferences",l,c,h,p="Top of The Past Month",i,d="Top of The Past Year",u,g="Top of All Time",v,R="Following",T,S="All Available",$,_,C,D="View as Dots",L,Z="View as Pictures",H,Oe="View as Names",Ce,fe,ae,Re,G,Le="Log Out",xe,Ne,E=n[2]!=ne.Picture&&Me(n);return{c(){e=y("div"),t=y("label"),s=A(),r=y("div"),a=y("h1"),a.textContent=o,l=A(),c=y("select"),h=y("option"),h.textContent=p,i=y("option"),i.textContent=d,u=y("option"),u.textContent=g,v=y("option"),v.textContent=R,T=y("option"),T.textContent=S,$=A(),_=y("select"),C=y("option"),C.textContent=D,L=y("option"),L.textContent=Z,H=y("option"),H.textContent=Oe,Ce=A(),E&&E.c(),fe=A(),ae=y("div"),Re=A(),G=y("button"),G.textContent=Le,this.h()},l(N){e=k(N,"DIV",{class:!0});var j=x(e);t=k(j,"LABEL",{for:!0,class:!0}),x(t).forEach(b),s=P(j),r=k(j,"DIV",{class:!0});var B=x(r);a=k(B,"H1",{class:!0,"data-svelte-h":!0}),I(a)!=="svelte-n7an2l"&&(a.textContent=o),l=P(B),c=k(B,"SELECT",{class:!0});var Y=x(c);h=k(Y,"OPTION",{"data-svelte-h":!0}),I(h)!=="svelte-18ovyn3"&&(h.textContent=p),i=k(Y,"OPTION",{"data-svelte-h":!0}),I(i)!=="svelte-1s4lgcp"&&(i.textContent=d),u=k(Y,"OPTION",{"data-svelte-h":!0}),I(u)!=="svelte-t59ye6"&&(u.textContent=g),v=k(Y,"OPTION",{"data-svelte-h":!0}),I(v)!=="svelte-1utbkqg"&&(v.textContent=R),T=k(Y,"OPTION",{"data-svelte-h":!0}),I(T)!=="svelte-1p6vrpt"&&(T.textContent=S),Y.forEach(b),$=P(B),_=k(B,"SELECT",{class:!0});var me=x(_);C=k(me,"OPTION",{"data-svelte-h":!0}),I(C)!=="svelte-1ru6mvb"&&(C.textContent=D),L=k(me,"OPTION",{"data-svelte-h":!0}),I(L)!=="svelte-hpqvnh"&&(L.textContent=Z),H=k(me,"OPTION",{"data-svelte-h":!0}),I(H)!=="svelte-1arngzx"&&(H.textContent=Oe),me.forEach(b),Ce=P(B),E&&E.l(B),fe=P(B),ae=k(B,"DIV",{class:!0}),x(ae).forEach(b),Re=P(B),G=k(B,"BUTTON",{class:!0,"data-svelte-h":!0}),I(G)!=="svelte-yt4e0m"&&(G.textContent=Le),B.forEach(b),j.forEach(b),this.h()},h(){w(t,"for","my-drawer"),w(t,"class","drawer-overlay"),w(a,"class","text-xl"),h.__value=oe.ShortTerm,K(h,h.__value),i.__value=oe.MediumTerm,K(i,i.__value),u.__value=oe.LongTerm,K(u,u.__value),v.__value=oe.Following,K(v,v.__value),T.__value=oe.All,K(T,T.__value),w(c,"class","select select-bordered w-full"),n[1]===void 0&&Q(()=>n[4].call(c)),C.__value=ne.Dot,K(C,C.__value),L.__value=ne.Picture,K(L,L.__value),H.__value=ne.Text,K(H,H.__value),w(_,"class","select select-bordered w-full"),n[2]===void 0&&Q(()=>n[5].call(_)),w(ae,"class","flex-grow"),w(G,"class","btn btn-primary"),w(r,"class","menu p-4 w-64 md:w-80 h-full bg-base-200 text-base-content space-y-2 flex flex-col"),w(e,"class","drawer-side z-50")},m(N,j){M(N,e,j),f(e,t),f(e,s),f(e,r),f(r,a),f(r,l),f(r,c),f(c,h),f(c,i),f(c,u),f(c,v),f(c,T),we(c,n[1],!0),f(r,$),f(r,_),f(_,C),f(_,L),f(_,H),we(_,n[2],!0),f(r,Ce),E&&E.m(r,null),f(r,fe),f(r,ae),f(r,Re),f(r,G),xe||(Ne=[he(c,"change",n[4]),he(_,"change",n[5]),he(G,"click",n[7])],xe=!0)},p(N,[j]){j&2&&we(c,N[1]),j&4&&we(_,N[2]),N[2]!=ne.Picture?E?(E.p(N,j),j&4&&F(E,1)):(E=Me(N),E.c(),F(E,1),E.m(r,fe)):E&&(pe(),O(E,1,1,()=>{E=null}),de())},i(N){F(E)},o(N){O(E)},d(N){N&&b(e),E&&E.d(),xe=!1,Xe(Ne)}}}function Ht(n,e,t){let s,r,a;re(n,Te,i=>t(1,s=i)),re(n,$e,i=>t(2,r=i)),re(n,De,i=>t(3,a=i));let{sdk:o}=e;function l(){s=Ve(this),Te.set(s)}function c(){r=Ve(this),$e.set(r)}function h(){a=this.checked,De.set(a)}const p=()=>{o.logOut(),window.location.href="/"};return n.$$set=i=>{"sdk"in i&&t(0,o=i.sdk)},[o,s,r,a,l,c,h,p]}class Jt extends be{constructor(e){super(),_e(this,e,Ht,zt,ve,{sdk:0})}}function Gt(n){return{c:U,l:U,m:U,p:U,i:U,o:U,d:U}}function Kt(n){let e,t;return e=new Mt({props:{profile:n[4]}}),{c(){ie(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,r){le(e,s,r),t=!0},p:U,i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){ue(e,s)}}}function Wt(n){return{c:U,l:U,m:U,p:U,i:U,o:U,d:U}}function He(n){let e,t,s,r="Error:",a,o,l,c,h='<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',p,i,d,u;return{c(){e=y("div"),t=y("span"),s=y("span"),s.textContent=r,a=A(),o=Ae(n[0]),l=A(),c=y("button"),c.innerHTML=h,this.h()},l(g){e=k(g,"DIV",{class:!0});var v=x(e);t=k(v,"SPAN",{class:!0});var R=x(t);s=k(R,"SPAN",{class:!0,"data-svelte-h":!0}),I(s)!=="svelte-13bpzm2"&&(s.textContent=r),a=P(R),o=Pe(R,n[0]),R.forEach(b),l=P(v),c=k(v,"BUTTON",{class:!0,"data-svelte-h":!0}),I(c)!=="svelte-x9j6qp"&&(c.innerHTML=h),v.forEach(b),this.h()},h(){w(s,"class","font-bold"),w(t,"class","float-left"),w(c,"class","float-right"),w(e,"class","alert alert-error flow-root space-x-3")},m(g,v){M(g,e,v),f(e,t),f(t,s),f(t,a),f(t,o),f(e,l),f(e,c),i=!0,d||(u=he(c,"click",n[3]),d=!0)},p(g,v){(!i||v&1)&&Ie(o,g[0])},i(g){i||(g&&Q(()=>{i&&(p||(p=z(e,W,{duration:200},!0)),p.run(1))}),i=!0)},o(g){g&&(p||(p=z(e,W,{duration:200},!1)),p.run(0)),i=!1},d(g){g&&b(e),g&&p&&p.end(),d=!1,u()}}}function Zt(n){let e,t,s,r,a,o,l,c,h,p,i,d,u,g='<input type="checkbox" class="drawer-toggle"/> <svg class="swap-off fill-current h-8 w-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"></path></svg> <svg class="swap-on fill-current h-8 w-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><polygon points="400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49"></polygon></svg>',v,R,T;a=new Nt({props:{sdk:n[1],data:n[2],loading:Qt}});let S={ctx:n,current:null,token:null,hasCatch:!1,pending:Wt,then:Kt,catch:Gt,value:4,blocks:[,,,]};st(n[1].currentUser.profile(),S),h=new tt({});let $=n[0]&&He(n);return R=new Jt({props:{sdk:n[1]}}),{c(){e=y("div"),t=y("input"),s=A(),r=y("div"),ie(a.$$.fragment),o=A(),l=y("div"),S.block.c(),c=A(),ie(h.$$.fragment),p=A(),i=y("div"),$&&$.c(),d=A(),u=y("label"),u.innerHTML=g,v=A(),ie(R.$$.fragment),this.h()},l(_){e=k(_,"DIV",{class:!0});var C=x(e);t=k(C,"INPUT",{id:!0,type:!0,class:!0}),s=P(C),r=k(C,"DIV",{class:!0});var D=x(r);ce(a.$$.fragment,D),o=P(D),l=k(D,"DIV",{class:!0});var L=x(l);S.block.l(L),c=P(L),ce(h.$$.fragment,L),L.forEach(b),p=P(D),i=k(D,"DIV",{class:!0});var Z=x(i);$&&$.l(Z),d=P(Z),u=k(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),I(u)!=="svelte-3obcrk"&&(u.innerHTML=g),Z.forEach(b),D.forEach(b),v=P(C),ce(R.$$.fragment,C),C.forEach(b),this.h()},h(){w(t,"id","my-drawer"),w(t,"type","checkbox"),w(t,"class","drawer-toggle"),w(l,"class","z-20 absolute top-0 right-0 pt-4 pr-4 flex flex-col items-end space-y-3"),w(u,"class","btn btn-circle btn-primary swap swap-rotate"),w(u,"for","my-drawer"),w(i,"class","z-20 absolute bottom-0 right-0 pr-4 pb-4 flex flex-col items-end space-y-3"),w(r,"class","drawer-content relative"),w(e,"class","drawer w-screen h-screen")},m(_,C){M(_,e,C),f(e,t),f(e,s),f(e,r),le(a,r,null),f(r,o),f(r,l),S.block.m(l,S.anchor=null),S.mount=()=>l,S.anchor=c,f(l,c),le(h,l,null),f(r,p),f(r,i),$&&$.m(i,null),f(i,d),f(i,u),f(e,v),le(R,e,null),T=!0},p(_,[C]){n=_,rt(S,n,C),n[0]?$?($.p(n,C),C&1&&F($,1)):($=He(n),$.c(),F($,1),$.m(i,d)):$&&(pe(),O($,1,1,()=>{$=null}),de())},i(_){T||(F(a.$$.fragment,_),F(S.block),F(h.$$.fragment,_),F($),F(R.$$.fragment,_),T=!0)},o(_){O(a.$$.fragment,_);for(let C=0;C<3;C+=1){const D=S.blocks[C];O(D)}O(h.$$.fragment,_),O($),O(R.$$.fragment,_),T=!1},d(_){_&&b(e),ue(a),S.block.d(),S.token=null,S=null,ue(h),$&&$.d(),ue(R)}}}let Qt=null;function Yt(n,e,t){let s;re(n,ye,l=>t(0,s=l));const r=Fe.withUserAuthorization("2ed0e6e8b06842fb854cb15e1690a7b5",window.location.origin+"/dashboard",["user-follow-read","user-top-read"]);return[s,r,{nodes:[],links:[]},()=>Je(ye,s=null,s)]}class rs extends be{constructor(e){super(),_e(this,e,Yt,Zt,ve,{})}}export{rs as component};
